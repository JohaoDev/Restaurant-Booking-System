--
-- PostgreSQL database dump
--

-- Dumped from database version 11.1
-- Dumped by pg_dump version 11.1

-- Started on 2019-01-31 10:44:18

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 209 (class 1259 OID 33824)
-- Name: detalle_reserva; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.detalle_reserva (
    detalle_id integer NOT NULL,
    mesa_id integer NOT NULL,
    reserva_id integer NOT NULL,
    numerousuarios integer NOT NULL
);


ALTER TABLE public.detalle_reserva OWNER TO postgres;

--
-- TOC entry 208 (class 1259 OID 33822)
-- Name: detalle_reserva_detalle_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.detalle_reserva_detalle_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.detalle_reserva_detalle_id_seq OWNER TO postgres;

--
-- TOC entry 2889 (class 0 OID 0)
-- Dependencies: 208
-- Name: detalle_reserva_detalle_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.detalle_reserva_detalle_id_seq OWNED BY public.detalle_reserva.detalle_id;


--
-- TOC entry 205 (class 1259 OID 33798)
-- Name: estado; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.estado (
    estado_id integer NOT NULL,
    nombre character varying(255) NOT NULL
);


ALTER TABLE public.estado OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 33796)
-- Name: estado_estado_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.estado_estado_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.estado_estado_id_seq OWNER TO postgres;

--
-- TOC entry 2890 (class 0 OID 0)
-- Dependencies: 204
-- Name: estado_estado_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.estado_estado_id_seq OWNED BY public.estado.estado_id;


--
-- TOC entry 207 (class 1259 OID 33806)
-- Name: mesa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.mesa (
    mesa_id integer NOT NULL,
    tipo_id integer NOT NULL,
    estado_id integer NOT NULL
);


ALTER TABLE public.mesa OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 33804)
-- Name: mesa_mesa_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.mesa_mesa_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.mesa_mesa_id_seq OWNER TO postgres;

--
-- TOC entry 2891 (class 0 OID 0)
-- Dependencies: 206
-- Name: mesa_mesa_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.mesa_mesa_id_seq OWNED BY public.mesa.mesa_id;


--
-- TOC entry 197 (class 1259 OID 17222)
-- Name: migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.migrations (
    id integer NOT NULL,
    migration character varying(255) NOT NULL,
    batch integer NOT NULL
);


ALTER TABLE public.migrations OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 17220)
-- Name: migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.migrations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.migrations_id_seq OWNER TO postgres;

--
-- TOC entry 2892 (class 0 OID 0)
-- Dependencies: 196
-- Name: migrations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.migrations_id_seq OWNED BY public.migrations.id;


--
-- TOC entry 199 (class 1259 OID 33763)
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    id integer NOT NULL,
    pers_ci character varying(255) NOT NULL,
    nombre character varying(255) NOT NULL,
    telefono character varying(255) NOT NULL,
    correo character varying(255) NOT NULL,
    clave character varying(255) NOT NULL
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 33761)
-- Name: person_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.person_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.person_id_seq OWNER TO postgres;

--
-- TOC entry 2893 (class 0 OID 0)
-- Dependencies: 198
-- Name: person_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.person_id_seq OWNED BY public.person.id;


--
-- TOC entry 201 (class 1259 OID 33774)
-- Name: reserva; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reserva (
    reserva_id integer NOT NULL,
    id integer NOT NULL,
    fecha date NOT NULL
);


ALTER TABLE public.reserva OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 33772)
-- Name: reserva_reserva_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.reserva_reserva_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.reserva_reserva_id_seq OWNER TO postgres;

--
-- TOC entry 2894 (class 0 OID 0)
-- Dependencies: 200
-- Name: reserva_reserva_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.reserva_reserva_id_seq OWNED BY public.reserva.reserva_id;


--
-- TOC entry 203 (class 1259 OID 33787)
-- Name: tipo_mesa; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tipo_mesa (
    tipo_id integer NOT NULL,
    descripcion character varying(255) NOT NULL,
    capacidad character varying(255) NOT NULL
);


ALTER TABLE public.tipo_mesa OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 33785)
-- Name: tipo_mesa_tipo_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.tipo_mesa_tipo_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tipo_mesa_tipo_id_seq OWNER TO postgres;

--
-- TOC entry 2895 (class 0 OID 0)
-- Dependencies: 202
-- Name: tipo_mesa_tipo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.tipo_mesa_tipo_id_seq OWNED BY public.tipo_mesa.tipo_id;


--
-- TOC entry 2729 (class 2604 OID 33827)
-- Name: detalle_reserva detalle_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalle_reserva ALTER COLUMN detalle_id SET DEFAULT nextval('public.detalle_reserva_detalle_id_seq'::regclass);


--
-- TOC entry 2727 (class 2604 OID 33801)
-- Name: estado estado_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado ALTER COLUMN estado_id SET DEFAULT nextval('public.estado_estado_id_seq'::regclass);


--
-- TOC entry 2728 (class 2604 OID 33809)
-- Name: mesa mesa_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.mesa ALTER COLUMN mesa_id SET DEFAULT nextval('public.mesa_mesa_id_seq'::regclass);


--
-- TOC entry 2723 (class 2604 OID 17225)
-- Name: migrations id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.migrations ALTER COLUMN id SET DEFAULT nextval('public.migrations_id_seq'::regclass);


--
-- TOC entry 2724 (class 2604 OID 33766)
-- Name: person id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person ALTER COLUMN id SET DEFAULT nextval('public.person_id_seq'::regclass);


--
-- TOC entry 2725 (class 2604 OID 33777)
-- Name: reserva reserva_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reserva ALTER COLUMN reserva_id SET DEFAULT nextval('public.reserva_reserva_id_seq'::regclass);


--
-- TOC entry 2726 (class 2604 OID 33790)
-- Name: tipo_mesa tipo_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tipo_mesa ALTER COLUMN tipo_id SET DEFAULT nextval('public.tipo_mesa_tipo_id_seq'::regclass);


--
-- TOC entry 2883 (class 0 OID 33824)
-- Dependencies: 209
-- Data for Name: detalle_reserva; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.detalle_reserva (detalle_id, mesa_id, reserva_id, numerousuarios) FROM stdin;
\.


--
-- TOC entry 2879 (class 0 OID 33798)
-- Dependencies: 205
-- Data for Name: estado; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.estado (estado_id, nombre) FROM stdin;
\.


--
-- TOC entry 2881 (class 0 OID 33806)
-- Dependencies: 207
-- Data for Name: mesa; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.mesa (mesa_id, tipo_id, estado_id) FROM stdin;
\.


--
-- TOC entry 2871 (class 0 OID 17222)
-- Dependencies: 197
-- Data for Name: migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.migrations (id, migration, batch) FROM stdin;
1	2019_01_25_202441_create_person_table	1
2	2019_01_25_202746_create_reserva_table	2
3	2019_01_25_210944_create_tipomesa_table	3
4	2019_01_25_211032_create_estado_table	3
5	2019_01_25_211204_create_mesa_tablele	3
6	2019_01_25_210944_create_tipo_mesa_table	4
7	2019_01_25_211714_create_mesa_table	4
8	2019_01_25_211813_create_detalle_reserva_table	4
9	2019_01_27_014434_create_person_table	5
10	2019_01_27_015827_create_person_table	6
11	2019_01_27_015959_create_reserva_table	7
12	2019_01_27_020016_create_tipo_mesa_table	7
13	2019_01_27_020034_create_estado_table	7
14	2019_01_27_020126_create_mesa_table	7
15	2019_01_27_020145_create_detalle_reserva_table	7
16	2019_01_30_195455_create_person_table	8
17	2019_01_30_200122_create_reserva_table	8
18	2019_01_30_200324_create_tipo_mesa_table	8
19	2019_01_30_200503_create_estado_table	8
20	2019_01_30_200718_create_mesa_table	8
21	2019_01_30_200912_create_detalle_reserva_table	8
\.


--
-- TOC entry 2873 (class 0 OID 33763)
-- Dependencies: 199
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.person (id, pers_ci, nombre, telefono, correo, clave) FROM stdin;
2	171884264-2	Johao Perlaza	0978970998	perlazajohao@gmail.com	1234
\.


--
-- TOC entry 2875 (class 0 OID 33774)
-- Dependencies: 201
-- Data for Name: reserva; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reserva (reserva_id, id, fecha) FROM stdin;
\.


--
-- TOC entry 2877 (class 0 OID 33787)
-- Dependencies: 203
-- Data for Name: tipo_mesa; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tipo_mesa (tipo_id, descripcion, capacidad) FROM stdin;
\.


--
-- TOC entry 2896 (class 0 OID 0)
-- Dependencies: 208
-- Name: detalle_reserva_detalle_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.detalle_reserva_detalle_id_seq', 1, false);


--
-- TOC entry 2897 (class 0 OID 0)
-- Dependencies: 204
-- Name: estado_estado_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.estado_estado_id_seq', 1, false);


--
-- TOC entry 2898 (class 0 OID 0)
-- Dependencies: 206
-- Name: mesa_mesa_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.mesa_mesa_id_seq', 1, false);


--
-- TOC entry 2899 (class 0 OID 0)
-- Dependencies: 196
-- Name: migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.migrations_id_seq', 21, true);


--
-- TOC entry 2900 (class 0 OID 0)
-- Dependencies: 198
-- Name: person_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.person_id_seq', 2, true);


--
-- TOC entry 2901 (class 0 OID 0)
-- Dependencies: 200
-- Name: reserva_reserva_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reserva_reserva_id_seq', 1, false);


--
-- TOC entry 2902 (class 0 OID 0)
-- Dependencies: 202
-- Name: tipo_mesa_tipo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tipo_mesa_tipo_id_seq', 1, false);


--
-- TOC entry 2743 (class 2606 OID 33829)
-- Name: detalle_reserva detalle_reserva_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalle_reserva
    ADD CONSTRAINT detalle_reserva_pkey PRIMARY KEY (detalle_id);


--
-- TOC entry 2739 (class 2606 OID 33803)
-- Name: estado estado_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.estado
    ADD CONSTRAINT estado_pkey PRIMARY KEY (estado_id);


--
-- TOC entry 2741 (class 2606 OID 33811)
-- Name: mesa mesa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.mesa
    ADD CONSTRAINT mesa_pkey PRIMARY KEY (mesa_id);


--
-- TOC entry 2731 (class 2606 OID 17227)
-- Name: migrations migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.migrations
    ADD CONSTRAINT migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 2733 (class 2606 OID 33771)
-- Name: person person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT person_pkey PRIMARY KEY (id);


--
-- TOC entry 2735 (class 2606 OID 33779)
-- Name: reserva reserva_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reserva
    ADD CONSTRAINT reserva_pkey PRIMARY KEY (reserva_id);


--
-- TOC entry 2737 (class 2606 OID 33795)
-- Name: tipo_mesa tipo_mesa_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tipo_mesa
    ADD CONSTRAINT tipo_mesa_pkey PRIMARY KEY (tipo_id);


--
-- TOC entry 2747 (class 2606 OID 33830)
-- Name: detalle_reserva detalle_reserva_mesa_id_foreign; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalle_reserva
    ADD CONSTRAINT detalle_reserva_mesa_id_foreign FOREIGN KEY (mesa_id) REFERENCES public.mesa(mesa_id);


--
-- TOC entry 2748 (class 2606 OID 33835)
-- Name: detalle_reserva detalle_reserva_reserva_id_foreign; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalle_reserva
    ADD CONSTRAINT detalle_reserva_reserva_id_foreign FOREIGN KEY (reserva_id) REFERENCES public.reserva(reserva_id);


--
-- TOC entry 2746 (class 2606 OID 33817)
-- Name: mesa mesa_estado_id_foreign; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.mesa
    ADD CONSTRAINT mesa_estado_id_foreign FOREIGN KEY (estado_id) REFERENCES public.estado(estado_id);


--
-- TOC entry 2745 (class 2606 OID 33812)
-- Name: mesa mesa_tipo_id_foreign; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.mesa
    ADD CONSTRAINT mesa_tipo_id_foreign FOREIGN KEY (tipo_id) REFERENCES public.tipo_mesa(tipo_id);


--
-- TOC entry 2744 (class 2606 OID 33780)
-- Name: reserva reserva_id_foreign; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reserva
    ADD CONSTRAINT reserva_id_foreign FOREIGN KEY (id) REFERENCES public.person(id);


-- Completed on 2019-01-31 10:44:19

--
-- PostgreSQL database dump complete
--

